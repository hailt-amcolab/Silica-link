<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workflow Demo - Silica-link</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 40px;
      padding-bottom: 180px;
      /* Space for fixed controls */
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
      font-size: 2em;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 1.1em;
    }

    .workflow-container {
      position: relative;
      min-height: 500px;
      margin: 40px 0;
    }

    .step {
      background: #f8f9fa;
      border: 3px solid #e0e0e0;
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      position: relative;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      opacity: 0.4;
      transform: translateY(20px) scale(0.95);
      scroll-margin-top: 100px;
      /* Space from top when scrolling */
      scroll-margin-bottom: 150px;
      /* Space for fixed controls at bottom */
    }

    .step.active {
      opacity: 1;
      transform: translateY(0) scale(1);
      border-color: #667eea;
      background: #f0f4ff;
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
      animation: slideInFade 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .step.completed {
      opacity: 0.7;
      transform: translateY(0) scale(0.98);
      border-color: #28a745;
      background: #f0fff4;
      transition: all 0.4s ease;
    }

    @keyframes slideInFade {
      from {
        opacity: 0.4;
        transform: translateY(20px) scale(0.95);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .step-number {
      display: inline-block;
      width: 40px;
      height: 40px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 40px;
      font-weight: bold;
      margin-right: 15px;
      font-size: 1.2em;
    }

    .step.active .step-number {
      background: #667eea;
      animation: pulse 2s infinite;
    }

    .step.completed .step-number {
      background: #28a745;
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.1);
      }
    }

    .step-title {
      font-size: 1.3em;
      font-weight: bold;
      color: #333;
      margin-bottom: 10px;
    }

    .step-description {
      color: #666;
      line-height: 1.6;
      margin-left: 55px;
    }

    .step-icon {
      font-size: 1.5em;
      margin-right: 10px;
    }

    .arrow {
      text-align: center;
      font-size: 2em;
      color: #667eea;
      margin: -10px 0;
      opacity: 0.3;
      transition: opacity 0.3s;
    }

    .arrow.active {
      opacity: 1;
      animation: bounce 1s infinite;
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-5px);
      }
    }

    .controls {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      padding: 20px 30px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.5);
      z-index: 1000;
      border-radius: 50px;
      display: inline-block;
      width: auto;
      min-width: fit-content;
    }

    /* Responsive: On mobile, controls stay at bottom but adjust padding */
    @media (max-width: 768px) {
      .controls {
        bottom: 20px;
        padding: 15px 20px;
        border-radius: 40px;
      }

      .btn {
        padding: 12px 20px;
        font-size: 0.9em;
        margin: 0 5px;
      }

      .container {
        padding-bottom: 160px;
      }
    }

    .btn {
      background: #667eea;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 1em;
      border-radius: 25px;
      cursor: pointer;
      margin: 0 6px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
    }

    .btn:hover {
      background: #5568d3;
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
    }

    .btn:active {
      transform: translateY(0) scale(1);
      box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
    }

    .btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    .btn-secondary {
      background: #6c757d;
      box-shadow: 0 2px 8px rgba(108, 117, 125, 0.3);
    }

    .btn-secondary:hover {
      background: #5a6268;
      box-shadow: 0 4px 12px rgba(108, 117, 125, 0.5);
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e0e0e0;
      border-radius: 10px;
      margin-bottom: 30px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea, #764ba2);
      width: 0%;
      transition: width 0.5s ease;
      border-radius: 10px;
    }

    .step-details {
      margin-top: 15px;
      padding: 15px;
      background: white;
      border-radius: 10px;
      border-left: 4px solid #667eea;
      margin-left: 55px;
      opacity: 0;
      transform: translateX(-10px);
      transition: opacity 0.5s ease 0.2s, transform 0.5s ease 0.2s;
    }

    .step.active .step-details,
    .step.completed .step-details {
      opacity: 1;
      transform: translateX(0);
    }

    .step-details h4 {
      color: #667eea;
      margin-bottom: 8px;
    }

    .step-details ul {
      margin-left: 20px;
      color: #555;
    }

    .step-details li {
      margin: 5px 0;
    }

    .step-screenshot {
      margin-top: 20px;
      margin-left: 55px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      max-width: 800px;
      background: #f0f0f0;
      border: 2px solid #e0e0e0;
      opacity: 0;
      transform: translateY(10px) scale(0.98);
      transition: opacity 0.6s ease 0.3s, transform 0.6s ease 0.3s;
    }

    .step.active .step-screenshot,
    .step.completed .step-screenshot {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .step-screenshot img {
      width: 100%;
      height: auto;
      display: block;
    }

    .step-screenshot.placeholder {
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: #666;
      font-size: 1.1em;
      text-align: center;
      padding: 40px;
    }

    .step-screenshot.placeholder::before {
      content: "üì∏";
      font-size: 3em;
      display: block;
      margin-bottom: 10px;
    }

    .screenshot-caption {
      margin-top: 10px;
      margin-left: 55px;
      color: #666;
      font-style: italic;
      font-size: 0.9em;
      opacity: 0;
      transform: translateY(5px);
      transition: opacity 0.4s ease 0.4s, transform 0.4s ease 0.4s;
    }

    .step.active .screenshot-caption,
    .step.completed .screenshot-caption {
      opacity: 1;
      transform: translateY(0);
    }

    .legend {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 30px;
      margin-bottom: 40px;
      /* Extra space before fixed controls */
      padding: 20px;
      background: #f8f9fa;
      border-radius: 10px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .legend-color {
      width: 20px;
      height: 20px;
      border-radius: 5px;
    }

    .legend-color.pending {
      background: #e0e0e0;
    }

    .legend-color.active {
      background: #667eea;
    }

    .legend-color.completed {
      background: #28a745;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>üîÑ Workflow Demo: <span id="workflow-title">Order Processing Automation</span></h1>
    <p class="subtitle">Click "Next Step" ƒë·ªÉ xem t·ª´ng b∆∞·ªõc trong quy tr√¨nh</p>

    <div class="progress-bar">
      <div class="progress-fill" id="progress"></div>
    </div>

    <div class="workflow-container" id="workflow">
      <!-- Steps will be inserted here by JavaScript -->
    </div>

    <div class="controls">
      <button class="btn btn-secondary" id="btn-reset" onclick="resetWorkflow()">üîÑ Reset</button>
      <button class="btn btn-secondary" id="btn-prev" onclick="previousStep()">‚óÄ Previous</button>
      <button class="btn" id="btn-next" onclick="nextStep()">Next Step ‚ñ∂</button>
      <button class="btn" id="btn-auto" onclick="toggleAuto()">‚ñ∂ Auto Play</button>
    </div>

    <div class="legend">
      <div class="legend-item">
        <div class="legend-color pending"></div>
        <span>Ch∆∞a th·ª±c hi·ªán</span>
      </div>
      <div class="legend-item">
        <div class="legend-color active"></div>
        <span>ƒêang th·ª±c hi·ªán</span>
      </div>
      <div class="legend-item">
        <div class="legend-color completed"></div>
        <span>Ho√†n th√†nh</span>
      </div>
    </div>
  </div>

  <script>
    // Workflow data - C√≥ th·ªÉ customize cho t·ª´ng Epic
    // CH·ªà BAO G·ªíM: Nh·ªØng g√¨ kh√°ch h√†ng c√≥ th·ªÉ TH·∫§Y v√† THAO T√ÅC ƒë∆∞·ª£c
    const workflowData = {
      title: "Order Processing Automation - T·ª´ G√≥c Nh√¨n Ng∆∞·ªùi D√πng",
      steps: [
        {
          number: 1,
          icon: "üõí",
          title: "Kh√°ch H√†ng ƒê·∫∑t H√†ng Tr√™n Shopify",
          description: "Kh√°ch h√†ng v√†o website Shopify, ch·ªçn s·∫£n ph·∫©m v√† ƒë·∫∑t h√†ng",
          screenshot: "screenshots/01-shopify-order.png",
          screenshotCaption: "M√†n h√¨nh Shopify - Kh√°ch h√†ng ƒë·∫∑t h√†ng",
          details: {
            title: "Kh√°ch h√†ng th·∫•y:",
            items: [
              "Website Shopify v·ªõi catalog s·∫£n ph·∫©m",
              "Gi·ªè h√†ng v·ªõi items ƒë√£ ch·ªçn",
              "Form nh·∫≠p th√¥ng tin giao h√†ng",
              "N√∫t 'ƒê·∫∑t h√†ng' ƒë·ªÉ submit"
            ]
          }
        },
        {
          number: 2,
          icon: "üìÑ",
          title: "Order T·ª± ƒê·ªông Xu·∫•t Hi·ªán Trong Kintone",
          description: "Order m·ªõi t·ª± ƒë·ªông xu·∫•t hi·ªán trong Kintone Orders App (kh√¥ng c·∫ßn nh·∫≠p manual)",
          screenshot: "screenshots/02-kintone-order-app.png",
          screenshotCaption: "M√†n h√¨nh Kintone Orders App - Order m·ªõi t·ª± ƒë·ªông xu·∫•t hi·ªán",
          details: {
            title: "Nh√¢n vi√™n th·∫•y trong Kintone:",
            items: [
              "Order m·ªõi v·ªõi status 'Êñ∞Ë¶èÂèóÊ≥®' (New Order)",
              "Th√¥ng tin kh√°ch h√†ng ƒë√£ ƒë∆∞·ª£c ƒëi·ªÅn s·∫µn",
              "Danh s√°ch s·∫£n ph·∫©m v√† s·ªë l∆∞·ª£ng",
              "Th·ªùi gian order ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông"
            ]
          }
        },
        {
          number: 3,
          icon: "üìä",
          title: "Ki·ªÉm Tra T·ªìn Kho T·ª± ƒê·ªông",
          description: "H·ªá th·ªëng t·ª± ƒë·ªông ki·ªÉm tra t·ªìn kho v√† hi·ªÉn th·ªã k·∫øt qu·∫£ trong Kintone",
          screenshot: "screenshots/03-inventory-check.png",
          screenshotCaption: "M√†n h√¨nh Kintone - Hi·ªÉn th·ªã k·∫øt qu·∫£ ki·ªÉm tra t·ªìn kho",
          details: {
            title: "Nh√¢n vi√™n th·∫•y:",
            items: [
              "T·ªìn kho ƒë·ªß ‚Üí Status t·ª± ƒë·ªông chuy·ªÉn th√†nh 'Âú®Â∫´„ÅÇ„Çä' (In Stock)",
              "T·ªìn kho thi·∫øu ‚Üí Status 'Âú®Â∫´‰∏çË∂≥' (Out of Stock) v·ªõi c·∫£nh b√°o",
              "S·ªë l∆∞·ª£ng t·ªìn kho hi·ªán t·∫°i cho t·ª´ng SKU",
              "Th√¥ng tin kho ch·ª©a h√†ng (Amagasaki ho·∫∑c Gifu)"
            ]
          }
        },
        {
          number: 4,
          icon: "‚úÖ",
          title: "Nh√¢n Vi√™n X√°c Nh·∫≠n Order",
          description: "Nh√¢n vi√™n review order trong Kintone v√† click 'X√°c nh·∫≠n'",
          screenshot: "screenshots/04-confirm-order.png",
          screenshotCaption: "M√†n h√¨nh Kintone - Nh√¢n vi√™n x√°c nh·∫≠n order",
          details: {
            title: "Nh√¢n vi√™n thao t√°c:",
            items: [
              "Click v√†o order ƒë·ªÉ xem chi ti·∫øt",
              "Review th√¥ng tin kh√°ch h√†ng v√† s·∫£n ph·∫©m",
              "Click n√∫t 'ÂèóÊ≥®Á¢∫ÂÆö' (Confirm Order)",
              "Status t·ª± ƒë·ªông chuy·ªÉn th√†nh 'ÂèóÊ≥®Á¢∫ÂÆö' (Order Confirmed)"
            ]
          }
        },
        {
          number: 5,
          icon: "üì¶",
          title: "T·ªìn Kho T·ª± ƒê·ªông ƒê∆∞·ª£c Tr·ª´",
          description: "Sau khi confirm, t·ªìn kho logic t·ª± ƒë·ªông ƒë∆∞·ª£c tr·ª´ trong Kintone Stock App",
          screenshot: "screenshots/05-stock-updated.png",
          screenshotCaption: "M√†n h√¨nh Kintone Stock App - T·ªìn kho ƒë∆∞·ª£c c·∫≠p nh·∫≠t t·ª± ƒë·ªông",
          details: {
            title: "Nh√¢n vi√™n th·∫•y trong Stock App:",
            items: [
              "S·ªë l∆∞·ª£ng t·ªìn kho gi·∫£m ƒëi theo s·ªë l∆∞·ª£ng order",
              "T·ªìn kho logic (Ë´ñÁêÜÂú®Â∫´) ƒë∆∞·ª£c reserve cho order",
              "L·ªãch s·ª≠ thay ƒë·ªïi t·ªìn kho ƒë∆∞·ª£c ghi l·∫°i",
              "C·∫£nh b√°o n·∫øu t·ªìn kho xu·ªëng th·∫•p"
            ]
          }
        },
        {
          number: 6,
          icon: "üìã",
          title: "Picking Task T·ª± ƒê·ªông ƒê∆∞·ª£c T·∫°o",
          description: "Task xu·∫•t kho t·ª± ƒë·ªông xu·∫•t hi·ªán trong Kintone Task App cho nh√¢n vi√™n kho",
          screenshot: "screenshots/06-picking-task.png",
          screenshotCaption: "M√†n h√¨nh Kintone Task App - Picking task t·ª± ƒë·ªông ƒë∆∞·ª£c t·∫°o",
          details: {
            title: "Nh√¢n vi√™n kho th·∫•y:",
            items: [
              "Task m·ªõi v·ªõi t√™n 'Âá∫Ëç∑„Çø„Çπ„ÇØ - Order #12345'",
              "Danh s√°ch SKU c·∫ßn pick v·ªõi s·ªë l∆∞·ª£ng",
              "V·ªã tr√≠ k·ªá (Ê£ö) ch·ª©a h√†ng",
              "Th√¥ng tin order li√™n quan"
            ]
          }
        },
        {
          number: 7,
          icon: "üì±",
          title: "Nh√¢n Vi√™n Kho Scan Barcode",
          description: "Nh√¢n vi√™n kho d√πng mobile app scan barcode ƒë·ªÉ confirm picking",
          screenshot: "screenshots/07-warehouse-scan.png",
          screenshotCaption: "M√†n h√¨nh Mobile App - Nh√¢n vi√™n kho scan barcode",
          details: {
            title: "Nh√¢n vi√™n kho thao t√°c:",
            items: [
              "M·ªü mobile app tr√™n ƒëi·ªán tho·∫°i",
              "Scan barcode c·ªßa s·∫£n ph·∫©m",
              "Scan barcode c·ªßa v·ªã tr√≠ k·ªá",
              "Confirm s·ªë l∆∞·ª£ng ƒë√£ pick",
              "Task t·ª± ƒë·ªông chuy·ªÉn th√†nh 'ÂÆå‰∫Ü' (Completed)"
            ]
          }
        },
        {
          number: 8,
          icon: "üöö",
          title: "Shipping Label T·ª± ƒê·ªông ƒê∆∞·ª£c T·∫°o",
          description: "Sau khi picking xong, shipping label t·ª± ƒë·ªông ƒë∆∞·ª£c t·∫°o v√† hi·ªÉn th·ªã trong Kintone",
          screenshot: "screenshots/08-shipping-label.png",
          screenshotCaption: "M√†n h√¨nh Kintone - Shipping label v√† tracking number",
          details: {
            title: "Nh√¢n vi√™n th·∫•y:",
            items: [
              "Shipping label PDF ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông",
              "Tracking number hi·ªÉn th·ªã trong order record",
              "Link download label ƒë·ªÉ in",
              "Th√¥ng tin v·∫≠n chuy·ªÉn (carrier, service)"
            ]
          }
        },
        {
          number: 9,
          icon: "üìß",
          title: "Kh√°ch H√†ng Nh·∫≠n Email Tracking",
          description: "Kh√°ch h√†ng nh·∫≠n email t·ª± ƒë·ªông v·ªõi tracking number ƒë·ªÉ theo d√µi ƒë∆°n h√†ng",
          screenshot: "screenshots/09-customer-email.png",
          screenshotCaption: "Email g·ª≠i cho kh√°ch h√†ng - Tracking information",
          details: {
            title: "Kh√°ch h√†ng th·∫•y trong email:",
            items: [
              "Th√¥ng b√°o ƒë∆°n h√†ng ƒë√£ ƒë∆∞·ª£c g·ª≠i",
              "Tracking number ƒë·ªÉ theo d√µi",
              "Link track shipment",
              "Th·ªùi gian d·ª± ki·∫øn giao h√†ng"
            ]
          }
        },
        {
          number: 10,
          icon: "üéâ",
          title: "Ho√†n Th√†nh - Zero Manual Entry",
          description: "To√†n b·ªô quy tr√¨nh t·ª± ƒë·ªông, nh√¢n vi√™n kh√¥ng c·∫ßn nh·∫≠p li·ªáu th·ªß c√¥ng",
          screenshot: "screenshots/10-complete-dashboard.png",
          screenshotCaption: "Dashboard Kintone - T·ªïng quan orders ƒë√£ x·ª≠ l√Ω",
          details: {
            title: "K·∫øt qu·∫£:",
            items: [
              "‚úÖ Order ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông t·ª´ Shopify",
              "‚úÖ T·ªìn kho ƒë∆∞·ª£c c·∫≠p nh·∫≠t t·ª± ƒë·ªông",
              "‚úÖ Picking task ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông",
              "‚úÖ Shipping label ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông",
              "‚úÖ Kh√°ch h√†ng nh·∫≠n tracking t·ª± ƒë·ªông",
              "‚úÖ Nh√¢n vi√™n KH√îNG c·∫ßn nh·∫≠p manual"
            ]
          }
        }
      ]
    };

    let currentStep = 0;
    let autoPlay = false;
    let autoPlayInterval = null;

    // Initialize workflow
    function initWorkflow() {
      const workflowContainer = document.getElementById('workflow');
      const titleElement = document.getElementById('workflow-title');
      titleElement.textContent = workflowData.title;

      workflowContainer.innerHTML = '';

      workflowData.steps.forEach((step, index) => {
        const stepElement = document.createElement('div');
        stepElement.className = 'step';
        stepElement.id = `step-${index}`;

        const arrow = index > 0 ? '<div class="arrow">‚¨á</div>' : '';

        // Build screenshot HTML
        let screenshotHTML = '';
        if (step.screenshot) {
          screenshotHTML = `
            <div class="step-screenshot ${step.screenshot.includes('placeholder') ? 'placeholder' : ''}" style="display: none;">
              ${step.screenshot.includes('placeholder')
              ? `<div>Ch∆∞a c√≥ ·∫£nh<br><small>ƒê·∫∑t ·∫£nh t·∫°i: ${step.screenshot}</small></div>`
              : `<img src="${step.screenshot}" alt="${step.screenshotCaption || step.title}" onerror="this.parentElement.classList.add('placeholder'); this.parentElement.innerHTML='<div>Kh√¥ng t√¨m th·∫•y ·∫£nh<br><small>ƒê·∫∑t ·∫£nh t·∫°i: ${step.screenshot}</small></div>';">
              `}
            </div>
            ${step.screenshotCaption ? `<div class="screenshot-caption" style="display: none;">${step.screenshotCaption}</div>` : ''}
          `;
        }

        stepElement.innerHTML = `
                    ${arrow}
                    <div>
                        <span class="step-number">${step.number}</span>
                        <span class="step-icon">${step.icon}</span>
                        <span class="step-title">${step.title}</span>
                        <div class="step-description">${step.description}</div>
                        ${screenshotHTML}
                        <div class="step-details" style="display: none;">
                            <h4>${step.details.title}</h4>
                            <ul>
                                ${step.details.items.map(item => `<li>${item}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;

        workflowContainer.appendChild(stepElement);
      });

      updateWorkflow();
    }

    function updateWorkflow() {
      const totalSteps = workflowData.steps.length;
      const progress = ((currentStep + 1) / totalSteps) * 100;
      document.getElementById('progress').style.width = progress + '%';

      // Update steps
      workflowData.steps.forEach((step, index) => {
        const stepElement = document.getElementById(`step-${index}`);
        const detailsElement = stepElement.querySelector('.step-details');
        const screenshotElement = stepElement.querySelector('.step-screenshot');
        const captionElement = stepElement.querySelector('.screenshot-caption');

        stepElement.classList.remove('active', 'completed');

        if (index < currentStep) {
          stepElement.classList.add('completed');
          if (detailsElement) {
            detailsElement.style.display = 'block';
          }
          if (screenshotElement) {
            screenshotElement.style.display = 'block';
          }
          if (captionElement) {
            captionElement.style.display = 'block';
          }
        } else if (index === currentStep) {
          stepElement.classList.add('active');
          if (detailsElement) {
            detailsElement.style.display = 'block';
          }
          if (screenshotElement) {
            screenshotElement.style.display = 'block';
          }
          if (captionElement) {
            captionElement.style.display = 'block';
          }

          // Smooth scroll to active step after animation starts
          setTimeout(() => {
            stepElement.scrollIntoView({
              behavior: 'smooth',
              block: 'center',
              inline: 'nearest'
            });
          }, 300); // Wait for step animation to start (0.3s)
        } else {
          // Hide with smooth fade out
          if (detailsElement) {
            detailsElement.style.display = 'none';
          }
          if (screenshotElement) {
            screenshotElement.style.display = 'none';
          }
          if (captionElement) {
            captionElement.style.display = 'none';
          }
        }
      });

      // Update arrows
      document.querySelectorAll('.arrow').forEach((arrow, index) => {
        arrow.classList.toggle('active', index < currentStep);
      });

      // Update buttons
      document.getElementById('btn-prev').disabled = currentStep === 0;
      document.getElementById('btn-next').disabled = currentStep === totalSteps - 1;
    }

    function nextStep() {
      if (currentStep < workflowData.steps.length - 1) {
        currentStep++;
        updateWorkflow();
      }
    }

    function previousStep() {
      if (currentStep > 0) {
        currentStep--;
        updateWorkflow();
      }
    }

    function resetWorkflow() {
      currentStep = 0;
      updateWorkflow();
      // Smooth scroll to top
      setTimeout(() => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }, 300);
    }

    function toggleAuto() {
      autoPlay = !autoPlay;
      const btn = document.getElementById('btn-auto');

      if (autoPlay) {
        btn.textContent = '‚è∏ Pause';
        autoPlayInterval = setInterval(() => {
          if (currentStep < workflowData.steps.length - 1) {
            nextStep();
          } else {
            toggleAuto();
            // Scroll to top when finished
            setTimeout(() => {
              window.scrollTo({
                top: 0,
                behavior: 'smooth'
              });
            }, 500);
          }
        }, 4000); // 4 seconds per step (allows animation + scroll)
      } else {
        btn.textContent = '‚ñ∂ Auto Play';
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
          autoPlayInterval = null;
        }
      }
    }

    // Initialize on load
    initWorkflow();
  </script>
</body>

</html>